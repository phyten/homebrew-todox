# Homebrew Tap for todox

This repository hosts the Homebrew tap `phyten/todox`. It allows macOS and Linux users to install the `todox` CLI via Homebrew:

```bash
brew tap phyten/todox
brew install todox
# or: brew install phyten/todox/todox
```

## How it works

Tags pushed to [`phyten/todox`](https://github.com/phyten/todox) trigger the `Release` GitHub Actions workflow. That workflow:

1. Cross-compiles the `todox` CLI for multiple platforms.
2. Publishes a GitHub Release with the binaries.
3. Updates this tap by regenerating `Formula/todox.rb` with fresh URLs and checksums.

As long as the `HOMEBREW_TAP_TOKEN` secret is configured in the main repo, the formula stays in sync automatically. Manual edits are rarely needed, but if you do edit `Formula/todox.rb` ensure that future updates won't be blocked by merge conflicts (or merge them before the next release tag).

## Repository layout

```
homebrew-todox/
└─ Formula/
   └─ todox.rb
```

- `Formula/todox.rb`: Ruby formula generated by the automation; installs the binary into `bin/todox` and runs `todox --help` as a smoke test.

## Troubleshooting

- **Formula not updated after tagging:** verify the `Release` workflow finished successfully and that the `HOMEBREW_TAP_TOKEN` secret has push access to this tap.
- **Checksum mismatch:** delete the tag, fix the underlying issue, and retag. The workflow recalculates SHA-256 hashes from the published artifacts.
- **Homebrew install fails on macOS ARM/Intel:** ensure the latest tag is available; the formula selects URLs based on `Hardware::CPU.arm?` and should cover both architectures.
